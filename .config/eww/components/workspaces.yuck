(defvar icons `[" ", " ", " "]`)

(defwidget workspaces []
  (eventbox
		(box
      :class "ws"
		  (for ws in {workspacesResult.workspaces}
		    (button
					:onclick "swaymsg workspace ${ws.name}"
					:class "ws-button"
            (label
              :text `${icons[ws.status]}`
              :class `${ws.focused ? "ws-focused" : "ws-unfocused"}`
          )
        )
      )
    )
  )
)

(deflisten workspacesResult "scripts/workspaces")
